// This is the COMPLETE Product model with ALL required fields
// Replace your current Product model in schema.prisma with this:

model Product {
  id                String    @id @default(cuid())
  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt
  channelRef        String?
  channelId         String
  channel           Channel   @relation(fields: [channelId], references: [id])
  currency          String?
  sku               String
  title             String
  active            Boolean   @default(true)
  priceCents        Int?
  costCents         Int?
  comparePriceCents Int?
  inventory         Inventory?
  orderItems        OrderItem[]
  returnItems       ReturnItem[]
  returnMetrics     ProductReturnMetrics[]
  batchAnalysis     BatchReturnAnalysis[]
  
  // Inventory Management Fields (THESE WERE MISSING!)
  leadTimeDays      Int?      @default(30)
  moq               Int?      @default(100)
  batchSize         Int?      @default(50)
  safetyStockDays   Int?      @default(14)
  supplierName      String?
  supplierCountry   String?   @default("China")
  
  // Additional fields
  weight            Float?
  dimensions        String?
  category          String?
  brand             String?
  supplier          String?
  batchNumber       String?
  shippingClass     String?
  shippingMethod    String?   @default("Sea")
  
  @@unique([channelId, sku])
  @@index([sku])
  @@index([channelId])
}
